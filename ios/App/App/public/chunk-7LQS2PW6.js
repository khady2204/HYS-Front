import{a as B}from"./chunk-IWOS63WX.js";import{a as E,b as F,c as I,g as T,h as k,k as j,l as N}from"./chunk-YVFP7G2U.js";import"./chunk-POA22WFE.js";import"./chunk-QUJFQN2Y.js";import"./chunk-6D27DZ34.js";import"./chunk-3NODV7JW.js";import"./chunk-547OZNO4.js";import"./chunk-JX6BS7SJ.js";import"./chunk-3TIPS6QV.js";import"./chunk-BSAYALUA.js";import"./chunk-7FY2OE2O.js";import"./chunk-J2OL6VUA.js";import"./chunk-GSIDHORN.js";import"./chunk-ET25664Q.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-JWWC77AT.js";import"./chunk-CKP3SGE2.js";import"./chunk-5IOERQT4.js";import{h as x}from"./chunk-RETT3Y54.js";import{Ac as _,Bc as S,Da as f,Va as p,Wa as o,Xa as n,Ya as s,cc as b,gb as h,jc as v,lc as m,nc as C,oc as w,qb as c,rc as M,sa as d,sc as O,tc as P,xa as a,zc as y}from"./chunk-WVCMXTPH.js";import"./chunk-HFL6MWQG.js";import"./chunk-UJWRXINH.js";import"./chunk-4XRDT473.js";import"./chunk-OAZACCPN.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-HHPFJLTL.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as g}from"./chunk-JHI3MBHO.js";var $=(()=>{let i=class i{constructor(e,t,r,u){this.router=e,this.authService=t,this.toastController=r,this.fb=u}ngOnInit(){this.resetForm=this.fb.group({phone:["",[m.required,m.pattern(/^\d{9,15}$/)]]})}showToast(e,t="success"){return g(this,null,function*(){(yield this.toastController.create({message:e,duration:3e3,color:t})).present()})}onSendOtp(){if(this.resetForm.invalid){this.showToast("Veuillez entrer un num\xE9ro valide","danger");return}let e={phone:this.resetForm.value.phone};this.authService.requestReset(e).subscribe({next:t=>{this.showToast("OTP envoy\xE9 avec succ\xE8s"),this.router.navigate(["/otp-verification"],{queryParams:{phone:e.phone}})},error:t=>{console.error("Erreur OTP :",t),this.showToast("\xC9chec de l\u2019envoi du code","danger")}})}};i.\u0275fac=function(t){return new(t||i)(a(x),a(B),a(j),a(y))},i.\u0275cmp=f({type:i,selectors:[["app-f-password"]],decls:17,vars:2,consts:[["slot","start"],["defaultHref","/login","text",""],[1,"forgot-container",3,"fullscreen"],[1,"forgot-wrapper"],[1,"logo-container"],["src","assets/logo.png",1,"logo-img"],[1,"title-container"],[3,"ngSubmit","formGroup"],[1,"input-container"],[1,"input-label"],["type","tel","placeholder","Votre num\xE9ro","formControlName","phone"],["expand","block","type","submit",1,"send-btn"]],template:function(t,r){t&1&&(o(0,"ion-toolbar")(1,"ion-buttons",0),s(2,"ion-back-button",1),n()(),o(3,"ion-content",2)(4,"div",3)(5,"div",4),s(6,"img",5),n(),o(7,"div",6)(8,"h1"),c(9,"R\xE9initialisation"),n()(),o(10,"form",7),h("ngSubmit",function(){return r.onSendOtp()}),o(11,"div",8)(12,"label",9),c(13,"T\xE9l\xE9phone"),n(),s(14,"input",10),n(),o(15,"ion-button",11),c(16,"Envoyer"),n()()()()),t&2&&(d(3),p("fullscreen",!0),d(7),p("formGroup",r.resetForm))},dependencies:[b,_,M,v,C,w,N,E,F,I,T,k,S,O,P],styles:["ion-toolbar[_ngcontent-%COMP%]{--border-width: 0;box-shadow:none;height:80px;max-width:350px;margin:0 auto;width:100%;padding:0 12px;border-top-left-radius:20px;border-top-right-radius:20px}ion-back-button[_ngcontent-%COMP%]{margin-left:-10px;margin-top:25px}.forgot-container[_ngcontent-%COMP%]{--background: #f6f6fb;display:flex;justify-content:center;align-items:center;height:100%}.forgot-wrapper[_ngcontent-%COMP%]{background:#fff;border-bottom-left-radius:20px;border-bottom-right-radius:20px;padding:24px;width:100%;box-shadow:0 8px 24px #0000001a;display:flex;flex-direction:column;align-items:stretch;justify-content:center;margin:auto;height:100%}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:6px}.logo-img[_ngcontent-%COMP%]{width:200px;height:auto}.title-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.title-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#0d3873;margin-bottom:4px}.title-container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px;color:#666}.input-item[_ngcontent-%COMP%]{--background: #f1f1f1;border-radius:10px;margin-bottom:12px;--padding-start: 10px}input[_ngcontent-%COMP%]{background:#f1f1f1;padding:10px;border-radius:10px;border:none;font-size:14px;width:100%}ion-button.send-btn[_ngcontent-%COMP%]{--background: #0d3873;--color: white;border-radius:8px;--text-transform: none;margin-top:12px}"]});let l=i;return l})();export{$ as FPasswordPage};
