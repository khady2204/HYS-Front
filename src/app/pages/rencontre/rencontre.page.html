<ion-content class="">
  <div class="container py-3">
   
  <!--Header-->  
  <app-header-search></app-header-search>
    <!-- Stories -->
  <div class="overflow-auto px mb-3 story-container">
    <div class="d-flex gap-3 flex-nowrap">
      <div class="text-center">
        <div class="border border-2 border-gray rounded-4 p-1 ml-4 d-flex justify-content-center align-items-center" style="width: 56px; height: 56px;">
          <i class="bi bi-plus text-grey fs-2"></i>
        </div>
        <small class="d-block mt-1 pl-4">Your Story</small>
      </div>
      <div class="text-center" *ngFor="let story of stories">
        <img [src]="story.img" alt="" class="rounded-4 border border-grey p-1" style="width: 56px; height: 56px; object-fit: cover;">
        <small class="d-block mt-1 text-truncate" style="width: 56px;">{{ story.name }}</small>
      </div>
    </div>
  </div>
    
      <!-- Publications -->
    <div class="posts-container">
      <div *ngFor="let pub of publications" class="post">
        <!-- Media : image ou vidÃ©o -->
        <div *ngIf="pub.mediaUrl" class="post-media position-relative" >
          <img *ngIf="pub.mediaType.startsWith('image')" [src]="getFullMediaUrl(pub.mediaUrl)" class="img-fluid rounded" />
          <video *ngIf="pub.mediaType.startsWith('video')" [src]="getFullMediaUrl(pub.mediaUrl)" controls class="w-100 rounded"></video>
        </div>
        <!-- Infos auteur  -->
        <div class="author-info d-flex align-items-center">
          <img src="assets/img/myLOve/account.png" alt="avatar" class="rounded-circle me-2" width="40" height="40">
          <strong class="text-white">{{ pub.auteurNom }}</strong>
        </div>

          <!--<div class="d-flex align-items-center mt-2">
            <i class="bi bi-heart-fill me-1"
            [ngStyle]="{'color': pub.likedByUser ? 'pink' : 'gray'}"
            (click)="toggleLike(pub)">
            </i>
            <small>{{ pub.nombreLikes }}</small>
          </div>-->
      </div>
    </div> 
  </div>

  <!-- Menu flottant bas -->
  <app-floating-menu></app-floating-menu>
  
</ion-content>
